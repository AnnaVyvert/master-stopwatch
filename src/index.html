<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="shortcut icon" href="assets/logo.png" type="image/x-icon" />

    <link rel="stylesheet" href="assets/ubuntu-tokens.css" />
    <link rel="stylesheet" href="assets/ubuntu-bind.css" />
    <link rel="stylesheet" href="assets/style.css" />

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />

    <link rel="manifest" href="manifest.json" />

    <title>laps-timer</title>
  </head>
  <body>
    <section class="total-time-container">
      <span class="total-time"></span>
    </section>
    <section class="control-panel">
      <button onclick="start()" class="start"><i class="fa-solid fa-play"></i></button>
      <button onclick="stop()" hidden class="stop"><i class="fa-solid fa-pause"></i></button>
      <input class="note" type="text" placeholder="note" />
      <button title="add new lap from present" onclick="submitLap()" class="submit"><i class="fa-solid fa-check"></i></button>
      <button title="reset present lap time" onclick="removePresentLapTime()" class="remove-present-lap"><i class="fa-solid fa-xmark"></i></button>
      <button title="open file import/export tools" onclick="switchFilesFunctionality()" class="file-functionality-open"><i class="fa-solid fa-file"></i></button>
      <span class="file-functionality-panel" onclick="switchFilesFunctionality()" hidden>
        <button title="export" onclick="exportDataHandler()"><i class="fa-solid fa-file-arrow-down"></i></button>
        <button title="import" onclick="uploadFileRedirect()"><i class="fa-solid fa-file-arrow-up"></i></button>
      </span>
      <input type="file" multiple accept=".json" style="display: none;"/>
      <button title="open big note" onclick="handleAsideNotePopup()" class="aside-notes"><i class="fa-solid fa-note-sticky"></i></button>
      <dialog class="popup aside-note">
        <div class="header">
          <div>aside notes:</div>
        </div>
        <div><textarea id="aside-note" cols="30" rows="10"></textarea></div>
      </dialog>
      <dialog class="popup modal-confirm">
        <div class="header modal-confirm__title"></div>
        <div style="margin-top: 16px;">
          <button class="modal-confirm__cancel">
            <i class="fa-solid fa-xmark"></i>
          </button>
          <button class="modal-confirm__check">
            <i class="fa-solid fa-check"></i>
          </button>
        </div>
      </dialog>
      <button title="open time edit tool" onclick="handleEditPresentLapTimePopup()">
        <i class="fa-regular fa-clock"></i>
      </button>
      <dialog class="popup edit-present-lap-time">
        <div class="header">edit present lap time:</div>
        <div>
          <span class="edit-present-lap-totaltime"></span>
          <select>
            <option value="+">+</option>
            <option value="-">-</option>
          </select>
          <input type="text" style="width: 70px; text-align: center;">
          <div class="legend">
            1 - minutes<br>
            1m - minutes<br>
            1h - hours<br>
            1d - days<br>
          </div>
        </div>
        <div style="margin-top: 16px;">
          <button onclick="handleEditPresentLapTimePopup()">
            <i class="fa-solid fa-xmark"></i>
          </button>
          <button class="edit-present-lap-submit" onclick="handleEditPresentLapTime()">
            <i class="fa-solid fa-check"></i>
          </button>
        </div>
      </dialog>
    </section>
    <section class="add-panel-container">
      <div></div>
      <div></div>
      <div></div>
      <div></div>
    </section>
    <section class="laps-container" hidden>
      <table>
        <thead>
          <th></th>
          <th>lap</th>
          <th>start time</th>
          <th>time</th>
          <th>note</th>
          <th>action</th>
        </thead>
        <tbody></tbody>
      </table>
    </section>
    <div class="center">
      <button title="delete all not protected laps" onclick='removeAll()' class="reset"><i class="fa-solid fa-trash"></i></button>
    </div>
  </body>
  <script src="handlers/key-handler.js"></script>
  <script src="handlers/modal-backdrop-handler.js"></script>
  <script src="binders/ref-binder.js"></script>

  <script src="workers/store-worker.js"></script>
  <script src="workers/table-worker.js"></script>
  <script src="workers/time-worker.js"></script>

  <script src="confirm-modal/class.js"></script>

  <script src="workers/lap-store-worker.js"></script>
  <script src="handlers/stopwatch-worker.js"></script>

  <script src="handlers/aside-note-handlers.js"></script>

  <script src="handlers/drag-and-drop.js"></script>
  <script src="handlers/file-utils.js"></script>
  <script src="handlers/handlers.js"></script>
  <script src="workers/common-utils.js"></script>

  <script src="index.js"></script>
</html>
